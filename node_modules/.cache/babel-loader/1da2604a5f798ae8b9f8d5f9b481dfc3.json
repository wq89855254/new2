{"remainingRequest":"D:\\program\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\program\\frontend\\src\\views\\search\\search.js?vue&type=script&lang=js&","dependencies":[{"path":"D:\\program\\frontend\\src\\views\\search\\search.js","mtime":1554889598968},{"path":"D:\\program\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\program\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"D:\\\\program\\\\frontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\nimport eleOption from \"../synthesis/element-option\";\nimport L from \"leaflet\";\nimport '../../assets/js/pather-src';\nimport moment from 'moment';\nvar namePlainOptions = ['机器学习', '配料法', '主观'];\nvar prePlainOptions = ['雷暴', '冰雹与雷暴大风', '短时强降水', '强对流'];\nvar columns = [{\n  title: '产品名称',\n  dataIndex: 'proName',\n  sorter: function sorter(a, b) {\n    return a.proName.length - b.proName.length;\n  }\n}, {\n  title: '预报对象',\n  dataIndex: 'typeName',\n  sorter: function sorter(a, b) {\n    return a.typeName.length - b.typeName.length;\n  }\n}, {\n  title: '岗位或姓名',\n  dataIndex: 'person',\n  sorter: function sorter(a, b) {\n    return a.person.length - b.person.length;\n  }\n}, {\n  title: 'TS',\n  dataIndex: 'TS'\n}, {\n  title: '空报率',\n  dataIndex: 'emptyRate'\n}, {\n  title: '漏报率',\n  dataIndex: 'failRate'\n}];\nvar tableData = [{\n  key: '1',\n  proName: '主观',\n  typeName: '雷暴',\n  person: '副首席',\n  TS: '0.29',\n  emptyRate: '0.64',\n  failRate: '0.39'\n}, {\n  key: '2',\n  proName: '主观',\n  typeName: '雷暴',\n  person: '主班',\n  TS: '0.29',\n  emptyRate: '0.64',\n  failRate: '0.39'\n}, {\n  key: '3',\n  proName: '主观',\n  typeName: '冰雹与雷暴大风',\n  person: '副首席',\n  TS: '0.29',\n  emptyRate: '0.64',\n  failRate: '0.39'\n}, {\n  key: '4',\n  proName: '主观',\n  typeName: '冰雹与雷暴大风',\n  person: '副首席',\n  TS: '0.29',\n  emptyRate: '0.64',\n  failRate: '0.39'\n}, {\n  key: '5',\n  proName: '主观',\n  typeName: '冰雹与雷暴大风',\n  person: '副首席',\n  TS: '0.29',\n  emptyRate: '0.64',\n  failRate: '0.39'\n}, {\n  key: '6',\n  proName: '主观',\n  typeName: '冰雹与雷暴大风',\n  person: '副首席',\n  TS: '0.29',\n  emptyRate: '0.64',\n  failRate: '0.39'\n}];\nvar patherLayerHanldeFunc;\nvar url = 'http://10.20.67.111:80/MapCache/googleMap/gis/mixed/Map_x={x}y={y}zoom={z}.png';\nexport default {\n  data: function data() {\n    return {\n      // 产品名称多选数据\n      namePlainOptions: namePlainOptions,\n      nameCheckedList: ['主观'],\n      isNameCheckAll: false,\n      // 主班时效数据\n      // 如果主观不勾选，则为空\n      aging: 1,\n      // 预报对象数据\n      prePlainOptions: prePlainOptions,\n      preCheckedList: [],\n      isPreCheckAll: false,\n      // table数据\n      columns: columns,\n      tableData: tableData,\n      // 日期选择数据\n      beginDate: '0',\n      endDate: '1',\n      map: {},\n      patherLayer: {}\n    };\n  },\n  mounted: function mounted() {\n    this.map1 = L.map('map', {\n      center: [37.17782559332976, 107.314453125],\n      zoom: 5,\n      minZoom: 4,\n      maxZoom: 13,\n      attributionControl: false,\n      zoomControl: false\n    });\n    L.tileLayer(url, {\n      maxZoom: 18\n    }).addTo(this.map1);\n    this.patherLayer = new L.Pather({\n      smoothFactor: 1,\n      strokeWidth: 5,\n      pathWidth: 5,\n      pathOpacity: 1,\n      mode: L.Pather.MODE.VIEW\n    }).addTo(this.map1);\n    var that = this;\n    this.patherLayer.on('edited', function (polyline) {\n      if (patherLayerEditHandleFunc) {\n        patherLayerEditHandleFunc(polyline);\n      }\n    });\n    this.patherLayer.on('created', function (event) {\n      if (that.patherLayer.getShape() == 'polygon') {\n        event.latLngs.push(event.latLngs[0]);\n      } // if (drawInitFlag == true) {\n      //   //画在地图上再次点击不删除画的东西\n      //   //patherLayer.removeBeforPath();\n      // }\n      // drawInitFlag = true;\n\n\n      var latLngs = event.latLngs.map(function (latLng) {\n        //return [latLng.lng, latLng.lat];\n        return latLng.lng + ' ' + latLng.lat;\n      }).join(' ') || 'Voila!'; //console.log(\"pather created: \" + latLngs);\n\n      if (that.hail || that.rain) {\n        that.levelSwitch = true;\n        that.latlngs = latLngs;\n\n        that.selectLevel = function () {\n          patherLayerHanldeFunc(that.latlngs, event);\n          that.levelSwitch = false;\n        };\n      } else {\n        if (patherLayerHanldeFunc) {\n          patherLayerHanldeFunc(latLngs, event);\n        } else {\n          window.open(\"./Make_Warning/index.html\", \"_blank\"); //= window.open(\"./Make_Warning/index.html\");\n        }\n      }\n    });\n    this.patherLayer.setShape('polygon');\n    this.patherLayer.setMode(L.Pather.MODE.CREATE);\n\n    patherLayerHanldeFunc = function patherLayerHanldeFunc(lnglats, event) {\n      event.polyline.myData = {\n        id: 'chanpin',\n        data: {\n          type: 1,\n          lnglats: lnglats,\n          value: \"00000\",\n          lineWidth: 3\n        }\n      };\n    };\n  },\n  methods: {\n    // 产品名称多选框选择的回调\n    nameCheckChange: function nameCheckChange(nameCheckedList) {\n      this.isNameCheckAll = nameCheckedList.length === namePlainOptions.length;\n    },\n    checkAllName: function checkAllName(e) {\n      _Object$assign(this, {\n        nameCheckedList: e.target.checked ? namePlainOptions : [],\n        isNameCheckAll: e.target.checked\n      });\n    },\n    //预报对象多选框选择的回调\n    preCheckChange: function preCheckChange(preCheckedList) {\n      this.isPreCheckAll = preCheckedList.length === prePlainOptions.length;\n    },\n    checkAllPre: function checkAllPre(e) {\n      _Object$assign(this, {\n        preCheckedList: e.target.checked ? prePlainOptions : [],\n        isPreCheckAll: e.target.checked\n      });\n    },\n    // 日期选择的回调\n    onBeginDate: function onBeginDate(value, mode) {\n      this.beginDate = mode;\n      console.log(mode); // console.log(moment(mode).format('YYYY-MM-DD'))\n    },\n    onEndDate: function onEndDate(value, mode) {\n      this.endDate = mode;\n    },\n    onRadioChange: function onRadioChange(e) {\n      console.log(e);\n    }\n  },\n  watch: {\n    nameCheckedList: function nameCheckedList(v) {\n      console.log(v);\n    },\n    aging: function aging(v) {\n      console.log(v);\n    },\n    preCheckedList: function preCheckedList(v) {\n      console.log(v);\n    }\n  },\n  computed: {\n    dateSame: function dateSame() {\n      return this.beginDate === this.endDate;\n    }\n  }\n};",{"version":3,"sources":["D:\\program\\frontend\\src\\views\\search\\search.js"],"names":["eleOption","L","moment","namePlainOptions","prePlainOptions","columns","title","dataIndex","sorter","a","b","proName","length","typeName","person","tableData","key","TS","emptyRate","failRate","patherLayerHanldeFunc","url","data","nameCheckedList","isNameCheckAll","aging","preCheckedList","isPreCheckAll","beginDate","endDate","map","patherLayer","mounted","map1","center","zoom","minZoom","maxZoom","attributionControl","zoomControl","tileLayer","addTo","Pather","smoothFactor","strokeWidth","pathWidth","pathOpacity","mode","MODE","VIEW","that","on","polyline","patherLayerEditHandleFunc","event","getShape","latLngs","push","latLng","lng","lat","join","hail","rain","levelSwitch","latlngs","selectLevel","window","open","setShape","setMode","CREATE","lnglats","myData","id","type","value","lineWidth","methods","nameCheckChange","checkAllName","e","target","checked","preCheckChange","checkAllPre","onBeginDate","console","log","onEndDate","onRadioChange","watch","v","computed","dateSame"],"mappings":"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","sourcesContent":["import eleOption from \"../synthesis/element-option\";\r\nimport L from \"leaflet\";\r\nimport '../../assets/js/pather-src'\r\nimport moment from 'moment';\r\n\r\nconst namePlainOptions = ['机器学习','配料法','主观']\r\nconst prePlainOptions = ['雷暴','冰雹与雷暴大风','短时强降水','强对流']\r\nconst columns = [\r\n    {\r\n        title: '产品名称',\r\n        dataIndex: 'proName',\r\n        sorter: (a, b) => a.proName.length - b.proName.length,\r\n    },\r\n    {\r\n        title:'预报对象',\r\n        dataIndex: 'typeName',\r\n        sorter: (a, b) => a.typeName.length - b.typeName.length,\r\n\r\n    },\r\n    {\r\n        title:'岗位或姓名',\r\n        dataIndex: 'person',\r\n        sorter: (a, b) => a.person.length - b.person.length,\r\n\r\n    },\r\n    {\r\n        title:'TS',\r\n        dataIndex: 'TS',\r\n\r\n    },\r\n    {\r\n        title:'空报率',\r\n        dataIndex: 'emptyRate',\r\n\r\n    },\r\n    {\r\n        title:'漏报率',\r\n        dataIndex: 'failRate',\r\n\r\n    }\r\n]\r\nconst tableData = [{\r\n    key: '1',\r\n    proName: '主观',\r\n    typeName:'雷暴',\r\n    person:'副首席',\r\n    TS: '0.29',\r\n    emptyRate: '0.64',\r\n    failRate:'0.39'\r\n  }, {\r\n    key: '2',\r\n    proName: '主观',\r\n    typeName:'雷暴',\r\n    person:'主班',\r\n    TS: '0.29',\r\n    emptyRate: '0.64',\r\n    failRate:'0.39'\r\n  },{\r\n    key: '3',\r\n    proName: '主观',\r\n    typeName:'冰雹与雷暴大风',\r\n    person:'副首席',\r\n    TS: '0.29',\r\n    emptyRate: '0.64',\r\n    failRate:'0.39'\r\n  },{\r\n    key: '4',\r\n    proName: '主观',\r\n    typeName:'冰雹与雷暴大风',\r\n    person:'副首席',\r\n    TS: '0.29',\r\n    emptyRate: '0.64',\r\n    failRate:'0.39'\r\n  },{\r\n    key: '5',\r\n    proName: '主观',\r\n    typeName:'冰雹与雷暴大风',\r\n    person:'副首席',\r\n    TS: '0.29',\r\n    emptyRate: '0.64',\r\n    failRate:'0.39'\r\n  },{\r\n    key: '6',\r\n    proName: '主观',\r\n    typeName:'冰雹与雷暴大风',\r\n    person:'副首席',\r\n    TS: '0.29',\r\n    emptyRate: '0.64',\r\n    failRate:'0.39'\r\n  },];\r\n\r\nvar patherLayerHanldeFunc;\r\nvar url = 'http://10.20.67.111:80/MapCache/googleMap/gis/mixed/Map_x={x}y={y}zoom={z}.png'\r\n\r\n\r\nexport default{\r\n    data(){\r\n        return {\r\n            // 产品名称多选数据\r\n            namePlainOptions,\r\n            nameCheckedList:['主观'],\r\n            isNameCheckAll:false,\r\n            // 主班时效数据\r\n            // 如果主观不勾选，则为空\r\n            aging:1,\r\n            // 预报对象数据\r\n            prePlainOptions,\r\n            preCheckedList:[],\r\n            isPreCheckAll:false,\r\n            // table数据\r\n            columns,\r\n            tableData,\r\n            // 日期选择数据\r\n            beginDate:'0',\r\n            endDate:'1',\r\n            map:{},\r\n            patherLayer:{},\r\n\r\n        }\r\n    },\r\n    mounted(){\r\n        this.map1 = L.map('map', {\r\n            center: [37.17782559332976, 107.314453125],\r\n            zoom: 5,\r\n            minZoom: 4,\r\n            maxZoom: 13,\r\n            attributionControl: false,\r\n            zoomControl: false\r\n          });\r\n          L.tileLayer(url, {\r\n            maxZoom: 18,\r\n\r\n        }).addTo(this.map1);\r\n\r\n       \r\n\r\n        this.patherLayer = new L.Pather({\r\n            smoothFactor: 1,\r\n            strokeWidth: 5,\r\n            pathWidth: 5,\r\n            pathOpacity: 1,\r\n            mode: L.Pather.MODE.VIEW\r\n          }).addTo(this.map1);\r\n          let that = this\r\n          this.patherLayer.on('edited', function (polyline) {\r\n            if (patherLayerEditHandleFunc) {\r\n              patherLayerEditHandleFunc(polyline);\r\n            }\r\n          });\r\n          this.patherLayer.on('created', function (event) {\r\n            if (that.patherLayer.getShape() == 'polygon') {\r\n              event.latLngs.push(event.latLngs[0]);\r\n            }\r\n    \r\n            // if (drawInitFlag == true) {\r\n            //   //画在地图上再次点击不删除画的东西\r\n            //   //patherLayer.removeBeforPath();\r\n            // }\r\n    \r\n            // drawInitFlag = true;\r\n            let latLngs = event.latLngs.map(function (latLng) {\r\n              //return [latLng.lng, latLng.lat];\r\n              return latLng.lng + ' ' + latLng.lat;\r\n            }).join(' ') || 'Voila!';\r\n            //console.log(\"pather created: \" + latLngs);\r\n            if (that.hail || that.rain) {\r\n              that.levelSwitch = true\r\n              that.latlngs = latLngs\r\n              that.selectLevel = () => {\r\n                patherLayerHanldeFunc(that.latlngs, event)\r\n                that.levelSwitch = false\r\n              }\r\n            } else {\r\n              if (patherLayerHanldeFunc) {\r\n                patherLayerHanldeFunc(latLngs, event);\r\n              } else {\r\n                window.open(\"./Make_Warning/index.html\", \"_blank\");\r\n                //= window.open(\"./Make_Warning/index.html\");\r\n              }\r\n            }\r\n          });\r\n\r\n          this.patherLayer.setShape('polygon');\r\n          this.patherLayer.setMode(L.Pather.MODE.CREATE);\r\n          patherLayerHanldeFunc = function (lnglats, event) {\r\n            event.polyline.myData = {\r\n              id: 'chanpin',\r\n              data: {\r\n                type: 1,\r\n                lnglats: lnglats,\r\n                value: \"00000\",\r\n                lineWidth: 3\r\n              }\r\n            };\r\n          };\r\n  \r\n    },\r\n    methods:{\r\n        // 产品名称多选框选择的回调\r\n        nameCheckChange(nameCheckedList){\r\n            this.isNameCheckAll = nameCheckedList.length === namePlainOptions.length\r\n        },\r\n        checkAllName(e){\r\n            Object.assign(this, {\r\n                nameCheckedList: e.target.checked ? namePlainOptions : [],\r\n                isNameCheckAll: e.target.checked,\r\n            })\r\n        },\r\n        //预报对象多选框选择的回调\r\n        preCheckChange(preCheckedList){\r\n            this.isPreCheckAll = preCheckedList.length === prePlainOptions.length\r\n        },\r\n        checkAllPre(e){\r\n            Object.assign(this, {\r\n                preCheckedList: e.target.checked ? prePlainOptions : [],\r\n                isPreCheckAll: e.target.checked,\r\n            })\r\n        },\r\n        // 日期选择的回调\r\n        onBeginDate(value,mode){\r\n            this.beginDate = mode\r\n            console.log(mode)\r\n            // console.log(moment(mode).format('YYYY-MM-DD'))\r\n        },\r\n        onEndDate(value,mode){\r\n            this.endDate = mode\r\n\r\n        },\r\n        onRadioChange(e){\r\n            console.log(e)\r\n        }\r\n    },\r\n    watch:{\r\n        nameCheckedList(v){\r\n            console.log(v)\r\n        },\r\n        aging(v){\r\n            console.log(v)\r\n           \r\n        },\r\n        preCheckedList(v){\r\n            console.log(v)\r\n        }\r\n    },\r\n    computed:{\r\n        dateSame(){\r\n            return this.beginDate===this.endDate\r\n        }\r\n    }\r\n\r\n}"]}]}