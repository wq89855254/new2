{"remainingRequest":"D:\\program\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\program\\frontend\\src\\components\\share\\aging-select\\AgingSelect.js?vue&type=script&lang=js&","dependencies":[{"path":"D:\\program\\frontend\\src\\components\\share\\aging-select\\AgingSelect.js","mtime":1553855602983},{"path":"D:\\program\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\program\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"../../../assets/js/iscroll.js\";\nimport { ConditionLayout } from '../../base';\nexport default {\n  name: \"aging-select\",\n  components: {\n    ConditionLayout: ConditionLayout\n  },\n  props: {\n    aging: {\n      type: String,\n      required: true\n    },\n    agingList: {\n      type: Array,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      myScroll: null,\n      currAging: this.aging,\n      length: this.agingList.length,\n      index: 0\n    };\n  },\n  watch: {\n    aging: function aging(val) {\n      // console.log(val);\n      this.currAging = val;\n      this.$emit(\"update:aging\", val);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var index = this.agingList.findIndex(function (el) {\n      return el === _this.aging;\n    });\n\n    if (index === -1) {\n      this.index = 0;\n      this.currAging = this.agingList[0];\n      this.$emit(\"update:aging\", this.currAging);\n      this.$emit('aging-change');\n    }\n\n    this.myScroll = new IScroll(\"#box\", {\n      scrollX: true,\n      scrollY: false,\n      mouseWheel: true\n    });\n  },\n  methods: {\n    onTuningTime: function onTuningTime(sign) {\n      if (sign === 1) {\n        this.index++;\n      } else {\n        this.index--;\n      }\n\n      if (this.index >= this.length) {\n        this.index = this.length - 1;\n      } else if (this.index < 0) {\n        this.index = 0;\n      }\n\n      this.currAging = this.agingList[this.index];\n      this.$emit(\"update:aging\", this.currAging);\n      this.$emit('aging-change'); //这里的逻辑还不完善，有时间改\n\n      var pl = 24 + 45 * (this.index + 1) + this.myScroll.x;\n\n      if (sign === 1) {\n        if (pl >= this.myScroll.wrapperWidth) {\n          this.myScroll.scrollTo(this.myScroll.x + (this.myScroll.wrapperWidth - pl), 0, 1000, IScroll.utils.ease.back);\n        }\n      } else {\n        if (pl % this.myScroll.wrapperWidth <= 45) {\n          this.myScroll.scrollTo(this.myScroll.x + 57, 0, 1000, IScroll.utils.ease.back);\n        }\n      }\n    },\n    onClick: function onClick(aging) {\n      this.currAging = aging;\n      this.index = this.agingList.findIndex(function (el) {\n        return el === aging;\n      });\n      this.$emit(\"update:aging\", this.currAging);\n      this.$emit('aging-change');\n    }\n  }\n};",{"version":3,"sources":["D:\\program\\frontend\\src\\components\\share\\aging-select\\AgingSelect.js"],"names":["ConditionLayout","name","components","props","aging","type","String","required","agingList","Array","data","myScroll","currAging","length","index","watch","val","$emit","mounted","findIndex","el","IScroll","scrollX","scrollY","mouseWheel","methods","onTuningTime","sign","pl","x","wrapperWidth","scrollTo","utils","ease","back","onClick"],"mappings":";AAAA,OAAO,+BAAP;AACA,SAASA,eAAT,QAAgC,YAAhC;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,cADO;AAEbC,EAAAA,UAAU,EAAE;AAAEF,IAAAA,eAAe,EAAfA;AAAF,GAFC;AAGbG,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE;AACLC,MAAAA,IAAI,EAAEC,MADD;AAELC,MAAAA,QAAQ,EAAE;AAFL,KADF;AAKLC,IAAAA,SAAS,EAAE;AACTH,MAAAA,IAAI,EAAEI,KADG;AAETF,MAAAA,QAAQ,EAAE;AAFD;AALN,GAHM;AAabG,EAAAA,IAba,kBAaN;AACL,WAAO;AACLC,MAAAA,QAAQ,EAAE,IADL;AAELC,MAAAA,SAAS,EAAE,KAAKR,KAFX;AAGLS,MAAAA,MAAM,EAAE,KAAKL,SAAL,CAAeK,MAHlB;AAILC,MAAAA,KAAK,EAAE;AAJF,KAAP;AAMD,GApBY;AAqBbC,EAAAA,KAAK,EAAE;AACLX,IAAAA,KADK,iBACCY,GADD,EACM;AACT;AACA,WAAKJ,SAAL,GAAiBI,GAAjB;AACA,WAAKC,KAAL,CAAW,cAAX,EAA2BD,GAA3B;AACD;AALI,GArBM;AA4BbE,EAAAA,OA5Ba,qBA4BH;AAAA;;AACR,QAAMJ,KAAK,GAAG,KAAKN,SAAL,CAAeW,SAAf,CAAyB,UAAAC,EAAE;AAAA,aAAIA,EAAE,KAAK,KAAI,CAAChB,KAAhB;AAAA,KAA3B,CAAd;;AACA,QAAIU,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,WAAKA,KAAL,GAAa,CAAb;AACA,WAAKF,SAAL,GAAiB,KAAKJ,SAAL,CAAe,CAAf,CAAjB;AACA,WAAKS,KAAL,CAAW,cAAX,EAA2B,KAAKL,SAAhC;AACA,WAAKK,KAAL,CAAW,cAAX;AACD;;AAED,SAAKN,QAAL,GAAgB,IAAIU,OAAJ,CAAY,MAAZ,EAAoB;AAClCC,MAAAA,OAAO,EAAE,IADyB;AAElCC,MAAAA,OAAO,EAAE,KAFyB;AAGlCC,MAAAA,UAAU,EAAE;AAHsB,KAApB,CAAhB;AAKD,GA1CY;AA2CbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YADO,wBACMC,IADN,EACY;AACjB,UAAIA,IAAI,KAAK,CAAb,EAAgB;AACd,aAAKb,KAAL;AACD,OAFD,MAEO;AACL,aAAKA,KAAL;AACD;;AACD,UAAI,KAAKA,KAAL,IAAc,KAAKD,MAAvB,EAA+B;AAC7B,aAAKC,KAAL,GAAa,KAAKD,MAAL,GAAc,CAA3B;AACD,OAFD,MAEO,IAAI,KAAKC,KAAL,GAAa,CAAjB,EAAoB;AACzB,aAAKA,KAAL,GAAa,CAAb;AACD;;AACD,WAAKF,SAAL,GAAiB,KAAKJ,SAAL,CAAe,KAAKM,KAApB,CAAjB;AACA,WAAKG,KAAL,CAAW,cAAX,EAA2B,KAAKL,SAAhC;AACA,WAAKK,KAAL,CAAW,cAAX,EAbiB,CAejB;;AACA,UAAMW,EAAE,GAAG,KAAK,MAAM,KAAKd,KAAL,GAAa,CAAnB,CAAL,GAA6B,KAAKH,QAAL,CAAckB,CAAtD;;AACA,UAAIF,IAAI,KAAK,CAAb,EAAgB;AACd,YAAIC,EAAE,IAAI,KAAKjB,QAAL,CAAcmB,YAAxB,EAAsC;AACpC,eAAKnB,QAAL,CAAcoB,QAAd,CACE,KAAKpB,QAAL,CAAckB,CAAd,IAAmB,KAAKlB,QAAL,CAAcmB,YAAd,GAA6BF,EAAhD,CADF,EAEE,CAFF,EAGE,IAHF,EAIEP,OAAO,CAACW,KAAR,CAAcC,IAAd,CAAmBC,IAJrB;AAMD;AACF,OATD,MASO;AACL,YAAIN,EAAE,GAAG,KAAKjB,QAAL,CAAcmB,YAAnB,IAAmC,EAAvC,EAA2C;AACzC,eAAKnB,QAAL,CAAcoB,QAAd,CACE,KAAKpB,QAAL,CAAckB,CAAd,GAAkB,EADpB,EAEE,CAFF,EAGE,IAHF,EAIER,OAAO,CAACW,KAAR,CAAcC,IAAd,CAAmBC,IAJrB;AAMD;AACF;AACF,KArCM;AAsCPC,IAAAA,OAtCO,mBAsCC/B,KAtCD,EAsCQ;AACb,WAAKQ,SAAL,GAAiBR,KAAjB;AACA,WAAKU,KAAL,GAAa,KAAKN,SAAL,CAAeW,SAAf,CAAyB,UAAAC,EAAE;AAAA,eAAIA,EAAE,KAAKhB,KAAX;AAAA,OAA3B,CAAb;AACA,WAAKa,KAAL,CAAW,cAAX,EAA2B,KAAKL,SAAhC;AACA,WAAKK,KAAL,CAAW,cAAX;AACD;AA3CM;AA3CI,CAAf","sourcesContent":["import \"../../../assets/js/iscroll.js\";\r\nimport { ConditionLayout } from '../../base';\r\n\r\nexport default {\r\n  name: \"aging-select\",\r\n  components: { ConditionLayout },\r\n  props: {\r\n    aging: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    agingList: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      myScroll: null,\r\n      currAging: this.aging,\r\n      length: this.agingList.length,\r\n      index: 0\r\n    };\r\n  },\r\n  watch: {\r\n    aging(val) {\r\n      // console.log(val);\r\n      this.currAging = val;\r\n      this.$emit(\"update:aging\", val);\r\n    }\r\n  },\r\n  mounted() {\r\n    const index = this.agingList.findIndex(el => el === this.aging);\r\n    if (index === -1) {\r\n      this.index = 0;\r\n      this.currAging = this.agingList[0];\r\n      this.$emit(\"update:aging\", this.currAging);\r\n      this.$emit('aging-change');\r\n    }\r\n\r\n    this.myScroll = new IScroll(\"#box\", {\r\n      scrollX: true,\r\n      scrollY: false,\r\n      mouseWheel: true\r\n    });\r\n  },\r\n  methods: {\r\n    onTuningTime(sign) {\r\n      if (sign === 1) {\r\n        this.index++;\r\n      } else {\r\n        this.index--;\r\n      }\r\n      if (this.index >= this.length) {\r\n        this.index = this.length - 1;\r\n      } else if (this.index < 0) {\r\n        this.index = 0;\r\n      }\r\n      this.currAging = this.agingList[this.index];\r\n      this.$emit(\"update:aging\", this.currAging);\r\n      this.$emit('aging-change');\r\n\r\n      //这里的逻辑还不完善，有时间改\r\n      const pl = 24 + 45 * (this.index + 1) + this.myScroll.x;\r\n      if (sign === 1) {\r\n        if (pl >= this.myScroll.wrapperWidth) {\r\n          this.myScroll.scrollTo(\r\n            this.myScroll.x + (this.myScroll.wrapperWidth - pl),\r\n            0,\r\n            1000,\r\n            IScroll.utils.ease.back\r\n          );\r\n        }\r\n      } else {\r\n        if (pl % this.myScroll.wrapperWidth <= 45) {\r\n          this.myScroll.scrollTo(\r\n            this.myScroll.x + 57,\r\n            0,\r\n            1000,\r\n            IScroll.utils.ease.back\r\n          );\r\n        }\r\n      }\r\n    },\r\n    onClick(aging) {\r\n      this.currAging = aging;\r\n      this.index = this.agingList.findIndex(el => el === aging);\r\n      this.$emit(\"update:aging\", this.currAging);\r\n      this.$emit('aging-change');\r\n    }\r\n  }\r\n};\r\n"]}]}